!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SwipeListener=e()}(this,(function(){"use strict";var t=function(){return t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},t.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var e={minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0,touch:!0,mouse:!0};return function(n,o){if(n){o||(o={}),o=t(t({},e),o);var a=[],i=!1,r=function(t){i=!0},l=function(t){i=!1,c(t)},s=function(e){i&&h(t(t({},e),{changedTouches:[{clientX:e.clientX,clientY:e.clientY}]}))};o.mouse&&(n.addEventListener("mousedown",r),n.addEventListener("mouseup",l),n.addEventListener("mousemove",s));var c=function(e){if(a.length){for(var i="function"==typeof TouchEvent&&e instanceof TouchEvent,r=[],l=[],s={top:!1,right:!1,bottom:!1,left:!1},c=0;c<a.length;c++)r.push(a[c].x),l.push(a[c].y);var h=r[0],u=r[r.length-1],p=l[0],f=l[l.length-1],v={x:[h,u],y:[p,f]};if(a.length>1){var d={detail:t({touch:i,target:e.target},v)},m=new CustomEvent("swiperelease",d);n.dispatchEvent(m)}var g=r[0]-r[r.length-1],b="none";b=g>0?"left":"right";var y,E=Math.min.apply(Math,r),w=Math.max.apply(Math,r);if("number"==typeof o.minHorizontal&&Math.abs(g)>=o.minHorizontal)switch(b){case"left":y=Math.abs(E-r[r.length-1]),"number"==typeof o.deltaHorizontal&&y<=o.deltaHorizontal&&(s.left=!0);break;case"right":y=Math.abs(w-r[r.length-1]),"number"==typeof o.deltaHorizontal&&y<=o.deltaHorizontal&&(s.right=!0)}if(b="none",b=(g=l[0]-l[l.length-1])>0?"top":"bottom",E=Math.min.apply(Math,l),w=Math.max.apply(Math,l),"number"==typeof o.minVertical&&Math.abs(g)>=o.minVertical)switch(b){case"top":y=Math.abs(E-l[l.length-1]),"number"==typeof o.deltaVertical&&y<=o.deltaVertical&&(s.top=!0);break;case"bottom":y=Math.abs(w-l[l.length-1]),"number"==typeof o.deltaVertical&&y<=o.deltaVertical&&(s.bottom=!0)}if(a=[],s.top||s.right||s.bottom||s.left){o.lockAxis&&((s.left||s.right)&&Math.abs(h-u)>Math.abs(p-f)?s.top=s.bottom=!1:(s.top||s.bottom)&&Math.abs(h-u)<Math.abs(p-f)&&(s.left=s.right=!1));var M={detail:t({directions:s,touch:i,target:e.target},v)},L=new CustomEvent("swipe",M);n.dispatchEvent(L)}else{var x=new CustomEvent("swipecancel",{detail:t({touch:i,target:e.target},v)});n.dispatchEvent(x)}}},h=function(t){var e=t.changedTouches[0];if(a.push({x:e.clientX,y:e.clientY}),a.length>1){var i={detail:{x:[a[0].x,a[a.length-1].x],y:[a[0].y,a[a.length-1].y],touch:"function"==typeof TouchEvent&&t instanceof TouchEvent,target:t.target}},r=new CustomEvent("swiping",i);(!0===o.preventScroll||"function"==typeof o.preventScroll&&o.preventScroll(r))&&t.preventDefault(),n.dispatchEvent(r)}},u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u={passive:!o.preventScroll}}});window.addEventListener("testPassive",null,p),window.removeEventListener("testPassive",null,p)}catch(t){}return o.touch&&(n.addEventListener("touchmove",h,u),n.addEventListener("touchend",c)),{off:function(){n.removeEventListener("touchmove",h,u),n.removeEventListener("touchend",c),n.removeEventListener("mousedown",r),n.removeEventListener("mouseup",l),n.removeEventListener("mousemove",s)}}}}}));
//# sourceMappingURL=swipe-listener.umd.js.map
