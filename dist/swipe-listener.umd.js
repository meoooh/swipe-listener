!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SwipeListener=e()}(this,(function(){"use strict";var t=function(){return t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},t.apply(this,arguments)};return"function"==typeof SuppressedError&&SuppressedError,function(e,n){if(e){n||(n={}),n=t(t({},{minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0,touch:!0,mouse:!0}),n);var o=[],a=!1,i=function(t){a=!0},r=function(t){a=!1,l(t)},s=function(t){a&&(t.changedTouches=[{clientX:t.clientX,clientY:t.clientY}],c(t))};n.mouse&&(e.addEventListener("mousedown",i),e.addEventListener("mouseup",r),e.addEventListener("mousemove",s));var l=function(a){if(o.length){for(var i="function"==typeof TouchEvent&&a instanceof TouchEvent,r=[],s=[],l={top:!1,right:!1,bottom:!1,left:!1},c=0;c<o.length;c++)r.push(o[c].x),s.push(o[c].y);var h=r[0],u=r[r.length-1],v=s[0],p=s[s.length-1],f={x:[h,u],y:[v,p]};if(o.length>1){var d={detail:t({touch:i,target:a.target},f)},m=new CustomEvent("swiperelease",d);e.dispatchEvent(m)}var g=r[0]-r[r.length-1],E="none";E=g>0?"left":"right";var b=Math.min.apply(Math,r),y=Math.max.apply(Math,r);if(Math.abs(g)>=n.minHorizontal)switch(E){case"left":Math.abs(b-r[r.length-1])<=n.deltaHorizontal&&(l.left=!0);break;case"right":Math.abs(y-r[r.length-1])<=n.deltaHorizontal&&(l.right=!0)}if(E="none",E=(g=s[0]-s[s.length-1])>0?"top":"bottom",b=Math.min.apply(Math,s),y=Math.max.apply(Math,s),Math.abs(g)>=n.minVertical)switch(E){case"top":Math.abs(b-s[s.length-1])<=n.deltaVertical&&(l.top=!0);break;case"bottom":Math.abs(y-s[s.length-1])<=n.deltaVertical&&(l.bottom=!0)}if(o=[],l.top||l.right||l.bottom||l.left){n.lockAxis&&((l.left||l.right)&&Math.abs(h-u)>Math.abs(v-p)?l.top=l.bottom=!1:(l.top||l.bottom)&&Math.abs(h-u)<Math.abs(v-p)&&(l.left=l.right=!1));var w={detail:t({directions:l,touch:i,target:a.target},f)},M=new CustomEvent("swipe",w);e.dispatchEvent(M)}else{var L=new CustomEvent("swipecancel",{detail:t({touch:i,target:a.target},f)});e.dispatchEvent(L)}}},c=function(t){var a=t.changedTouches[0];if(o.push({x:a.clientX,y:a.clientY}),o.length>1){var i={detail:{x:[o[0].x,o[o.length-1].x],y:[o[0].y,o[o.length-1].y],touch:"function"==typeof TouchEvent&&t instanceof TouchEvent,target:t.target}},r=new CustomEvent("swiping",i);(!0===n.preventScroll||"function"==typeof n.preventScroll&&n.preventScroll(r))&&t.preventDefault(),e.dispatchEvent(r)}},h=!1;try{var u=Object.defineProperty({},"passive",{get:function(){h={passive:!n.preventScroll}}});window.addEventListener("testPassive",null,u),window.removeEventListener("testPassive",null,u)}catch(t){}return n.touch&&(e.addEventListener("touchmove",c,h),e.addEventListener("touchend",l)),{off:function(){e.removeEventListener("touchmove",c,h),e.removeEventListener("touchend",l),e.removeEventListener("mousedown",i),e.removeEventListener("mouseup",r),e.removeEventListener("mousemove",s)}}}}}));
//# sourceMappingURL=swipe-listener.umd.js.map
