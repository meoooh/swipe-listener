var t=function(){return t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},t.apply(this,arguments)};function e(e,n){if(e){n||(n={}),n=t(t({},{minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0,touch:!0,mouse:!0}),n);var o=[],a=!1,r=function(t){a=!0},i=function(t){a=!1,l(t)},s=function(t){a&&(t.changedTouches=[{clientX:t.clientX,clientY:t.clientY}],c(t))};n.mouse&&(e.addEventListener("mousedown",r),e.addEventListener("mouseup",i),e.addEventListener("mousemove",s));var l=function(a){if(o.length){for(var r="function"==typeof TouchEvent&&a instanceof TouchEvent,i=[],s=[],l={top:!1,right:!1,bottom:!1,left:!1},c=0;c<o.length;c++)i.push(o[c].x),s.push(o[c].y);var h=i[0],v=i[i.length-1],u=s[0],p=s[s.length-1],f={x:[h,v],y:[u,p]};if(o.length>1){var d={detail:t({touch:r,target:a.target},f)},m=new CustomEvent("swiperelease",d);e.dispatchEvent(m)}var g=i[0]-i[i.length-1],E="none";E=g>0?"left":"right";var b=Math.min.apply(Math,i),y=Math.max.apply(Math,i);if(Math.abs(g)>=n.minHorizontal)switch(E){case"left":Math.abs(b-i[i.length-1])<=n.deltaHorizontal&&(l.left=!0);break;case"right":Math.abs(y-i[i.length-1])<=n.deltaHorizontal&&(l.right=!0)}if(E="none",E=(g=s[0]-s[s.length-1])>0?"top":"bottom",b=Math.min.apply(Math,s),y=Math.max.apply(Math,s),Math.abs(g)>=n.minVertical)switch(E){case"top":Math.abs(b-s[s.length-1])<=n.deltaVertical&&(l.top=!0);break;case"bottom":Math.abs(y-s[s.length-1])<=n.deltaVertical&&(l.bottom=!0)}if(o=[],l.top||l.right||l.bottom||l.left){n.lockAxis&&((l.left||l.right)&&Math.abs(h-v)>Math.abs(u-p)?l.top=l.bottom=!1:(l.top||l.bottom)&&Math.abs(h-v)<Math.abs(u-p)&&(l.left=l.right=!1));var M={detail:t({directions:l,touch:r,target:a.target},f)},w=new CustomEvent("swipe",M);e.dispatchEvent(w)}else{var L=new CustomEvent("swipecancel",{detail:t({touch:r,target:a.target},f)});e.dispatchEvent(L)}}},c=function(t){var a=t.changedTouches[0];if(o.push({x:a.clientX,y:a.clientY}),o.length>1){var r={detail:{x:[o[0].x,o[o.length-1].x],y:[o[0].y,o[o.length-1].y],touch:"function"==typeof TouchEvent&&t instanceof TouchEvent,target:t.target}},i=new CustomEvent("swiping",r);(!0===n.preventScroll||"function"==typeof n.preventScroll&&n.preventScroll(i))&&t.preventDefault(),e.dispatchEvent(i)}},h=!1;try{var v=Object.defineProperty({},"passive",{get:function(){h={passive:!n.preventScroll}}});window.addEventListener("testPassive",null,v),window.removeEventListener("testPassive",null,v)}catch(t){}return n.touch&&(e.addEventListener("touchmove",c,h),e.addEventListener("touchend",l)),{off:function(){e.removeEventListener("touchmove",c,h),e.removeEventListener("touchend",l),e.removeEventListener("mousedown",r),e.removeEventListener("mouseup",i),e.removeEventListener("mousemove",s)}}}}"function"==typeof SuppressedError&&SuppressedError;export{e as default};
//# sourceMappingURL=swipe-listener.esm.js.map
