var t=function(){return t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},t.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var e={minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0,touch:!0,mouse:!0};function n(n,o){if(n){o||(o={}),o=t(t({},e),o);var a=[],r=!1,i=function(t){r=!0},l=function(t){r=!1,c(t)},s=function(e){r&&h(t(t({},e),{changedTouches:[{clientX:e.clientX,clientY:e.clientY}]}))};o.mouse&&(n.addEventListener("mousedown",i),n.addEventListener("mouseup",l),n.addEventListener("mousemove",s));var c=function(e){if(a.length){for(var r="function"==typeof TouchEvent&&e instanceof TouchEvent,i=[],l=[],s={top:!1,right:!1,bottom:!1,left:!1},c=0;c<a.length;c++)i.push(a[c].x),l.push(a[c].y);var h=i[0],u=i[i.length-1],v=l[0],p=l[l.length-1],f={x:[h,u],y:[v,p]};if(a.length>1){var m={detail:t({touch:r,target:e.target},f)},d=new CustomEvent("swiperelease",m);n.dispatchEvent(d)}var g=i[0]-i[i.length-1],b="none";b=g>0?"left":"right";var E,y=Math.min.apply(Math,i),M=Math.max.apply(Math,i);if("number"==typeof o.minHorizontal&&Math.abs(g)>=o.minHorizontal)switch(b){case"left":E=Math.abs(y-i[i.length-1]),"number"==typeof o.deltaHorizontal&&E<=o.deltaHorizontal&&(s.left=!0);break;case"right":E=Math.abs(M-i[i.length-1]),"number"==typeof o.deltaHorizontal&&E<=o.deltaHorizontal&&(s.right=!0)}if(b="none",b=(g=l[0]-l[l.length-1])>0?"top":"bottom",y=Math.min.apply(Math,l),M=Math.max.apply(Math,l),"number"==typeof o.minVertical&&Math.abs(g)>=o.minVertical)switch(b){case"top":E=Math.abs(y-l[l.length-1]),"number"==typeof o.deltaVertical&&E<=o.deltaVertical&&(s.top=!0);break;case"bottom":E=Math.abs(M-l[l.length-1]),"number"==typeof o.deltaVertical&&E<=o.deltaVertical&&(s.bottom=!0)}if(a=[],s.top||s.right||s.bottom||s.left){o.lockAxis&&((s.left||s.right)&&Math.abs(h-u)>Math.abs(v-p)?s.top=s.bottom=!1:(s.top||s.bottom)&&Math.abs(h-u)<Math.abs(v-p)&&(s.left=s.right=!1));var w={detail:t({directions:s,touch:r,target:e.target},f)},L=new CustomEvent("swipe",w);n.dispatchEvent(L)}else{var x=new CustomEvent("swipecancel",{detail:t({touch:r,target:e.target},f)});n.dispatchEvent(x)}}},h=function(t){var e=t.changedTouches[0];if(a.push({x:e.clientX,y:e.clientY}),a.length>1){var r={detail:{x:[a[0].x,a[a.length-1].x],y:[a[0].y,a[a.length-1].y],touch:"function"==typeof TouchEvent&&t instanceof TouchEvent,target:t.target}},i=new CustomEvent("swiping",r);(!0===o.preventScroll||"function"==typeof o.preventScroll&&o.preventScroll(i))&&t.preventDefault(),n.dispatchEvent(i)}},u=!1;try{var v=Object.defineProperty({},"passive",{get:function(){u={passive:!o.preventScroll}}});window.addEventListener("testPassive",null,v),window.removeEventListener("testPassive",null,v)}catch(t){}return o.touch&&(n.addEventListener("touchmove",h,u),n.addEventListener("touchend",c)),{off:function(){n.removeEventListener("touchmove",h,u),n.removeEventListener("touchend",c),n.removeEventListener("mousedown",i),n.removeEventListener("mouseup",l),n.removeEventListener("mousemove",s)}}}}export{n as default};
//# sourceMappingURL=swipe-listener.esm.js.map
